<div class="compress-image --loading"
     [tp]="tpl"
     [tpClassName]="'compress-image-preview'"
     [tpIsEnabled]="!loading()"
     (tpVisible)="showPreview($event)">
  <canvas #canvas
          width="60"
          height="30"></canvas>

  <svg *ngIf="loading()"
       class="loading-svg"
       id="L4"
       version="1.1"
       xmlns="http://www.w3.org/2000/svg"
       xmlns:xlink="http://www.w3.org/1999/xlink"
       x="0px"
       y="0px"
       viewBox="0 0 100 100"
       enable-background="new 0 0 0 0"
       xml:space="preserve">
    <circle fill="var(--primary-color)"
            stroke="none"
            cx="6"
            cy="50"
            r="6">
      <animate values="0;1;0"
               attributeName="opacity"
               dur="1s"
               repeatCount="indefinite"
               begin="0.1"></animate>
    </circle>
    <circle fill="var(--primary-color)"
            stroke="none"
            cx="26"
            cy="50"
            r="6">
      <animate values="0;1;0"
               attributeName="opacity"
               dur="1s"
               repeatCount="indefinite"
               begin="0.2"></animate>
    </circle>
    <circle fill="var(--primary-color)"
            stroke="none"
            cx="46"
            cy="50"
            r="6">
      <animate values="0;1;0"
               attributeName="opacity"
               dur="1s"
               repeatCount="indefinite"
               begin="0.3"></animate>
    </circle>
  </svg>
</div>

<ng-template #tpl
             let-hide>
  <canvas #canvas2
          width="300"
          height="400"></canvas>
</ng-template>
