<div class="user-navigation hoverable vm"
     [tp]="userMenuTpl"
     [tpOffset]="[0, -5]"
     tpClassName="user-navigation-popup"
     tpPlacement="bottom-end"
     tpVariation="popper">
  <tui-badge class="tui-space_right-2 tui-space_bottom-2"
             status="success"
             value="Active"></tui-badge>

  <mix-user-avatar *ngIf="userInfo"
                   class="mr-auto"
                   [size]="'s'"
                   [userInfo]="userInfo"></mix-user-avatar>
</div>

<ng-template #userMenuTpl
             let-hide>
  <div class="flex w-full p-3 gap-3 pt-0 items-center justify-content-start">
    <mix-user-avatar *ngIf="userInfo"
                     [size]="'l'"
                     [userInfo]="userInfo"></mix-user-avatar>

    <div>
      <div class="text-bold text-xxl">
        {{ userInfo?.userName }}
      </div>
      <div class="text-sub text-l">
        {{ userInfo?.email }}
      </div>
    </div>
  </div>

  <div class="line-break"></div>

  <!-- Open when applications ready -->
  <!-- <mix-application-list></mix-application-list> -->

  <div class="main-menu">
    <div class="mix-menu-item"
         (click)="hide(); userProfile()">
      <span class="mix-icon me-3">manage_accounts</span> {{ 'Managed Account' }}
    </div>

    <div class="line-break"></div>

    <div class="mix-menu-item"
         (click)="hide()">
      <span class="mix-icon me-3">settings</span> {{ 'Settings' }}
    </div>

    <div class="line-break"></div>

    <div class="mix-menu-item"
         (click)="logout(); hide()">
      <span class="mix-icon me-3">logout</span> {{ 'Logout' }}
    </div>
  </div>
</ng-template>
