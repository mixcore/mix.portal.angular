<div class="mix-dialog --default-padding"
     [formGroup]="jobForm">
  <div class="mix-dialog__header">
    Add New Job
  </div>

  <div class="mix-dialog__content">
    <div class="grid grid-cols-2 gap-3 w-full">
      <div class="col-span-1">
        <div class="mb-1 content-label">Name</div>
        <mix-input formControlName="name"></mix-input>
      </div>

      <div class="col-span-1">
        <div class="mb-1 content-label">Description</div>
        <mix-input formControlName="description"></mix-input>
      </div>

      <div class="col-span-1">
        <div class="mb-1 content-label">Repeat</div>
        <mix-input-number formControlName="repeatCount"></mix-input-number>
      </div>

      <div class="col-span-1">
        <!-- <div class="mb-1 content-label">Interval</div>
        <mix-input-number formControlName="interval"></mix-input-number> -->
      </div>

      <div class="col-span-1">
        <div class="mb-1 content-label">Start At</div>
        <mix-date-time-picker formControlName="startAt"></mix-date-time-picker>
      </div>

      <div class="col-span-1">
        <div class="mb-1 content-label">End At</div>
        <mix-date-time-picker formControlName="endAt"></mix-date-time-picker>
      </div>

      <div class="col-span-2 mt-2">
        <div class="mb-1 content-label">Setting Schedule</div>
        <mix-input-cron [cron]="jobForm.value.cronExpression ?? ''"
                        (cronChange)="jobForm.controls.cronExpression.patchValue($event)"></mix-input-cron>
      </div>
    </div>
  </div>

  <div class="mix-dialog__footer">
    <mix-button class="mr-auto"
                type="outline"
                (click)="ref.close()">Close</mix-button>
    <div class="flex items-center mr-2"><mix-toggle formControlName="isStartNow"></mix-toggle>Run now</div>
    <mix-button [loading]="loadingState() === 'Loading'"
                (click)="submit()">Create Job</mix-button>
  </div>
</div>
